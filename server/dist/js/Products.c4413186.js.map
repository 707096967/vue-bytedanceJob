{"version":3,"sources":["webpack:///./src/views/Products.vue?5b7c","webpack:///./node_modules/core-js/modules/es.array.find-index.js","webpack:///./src/views/Products.vue?148a","webpack:///src/views/Products.vue","webpack:///./src/views/Products.vue?c466","webpack:///./src/views/Products.vue"],"names":["$","$findIndex","findIndex","addToUnscopables","arrayMethodUsesToLength","FIND_INDEX","SKIPS_HOLES","USES_TO_LENGTH","Array","target","proto","forced","callbackfn","this","arguments","length","undefined","render","_vm","_h","$createElement","_c","_self","staticClass","_l","item","index","key","id","class","active","activeIndex","on","$event","attrs","logo","duration","transitionName","loading","_e","style","_v","_s","title","description","subDescription","link","staticRenderFns","name","data","products","scrolling","watch","$route","params","newIndex","oldIndex","created","request","mounted","window","addEventListener","mousewheelHandler","destroyed","removeEventListener","computed","methods","e","wheelDelta","setTimeout","component"],"mappings":"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","file":"js/Products.c4413186.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Products.vue?vue&type=style&index=0&id=22c29402&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Products.vue?vue&type=style&index=0&id=22c29402&lang=less&scoped=true&\"","'use strict';\nvar $ = require('../internals/export');\nvar $findIndex = require('../internals/array-iteration').findIndex;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar FIND_INDEX = 'findIndex';\nvar SKIPS_HOLES = true;\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength(FIND_INDEX);\n\n// Shouldn't skip holes\nif (FIND_INDEX in []) Array(1)[FIND_INDEX](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.findIndex` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.findindex\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES || !USES_TO_LENGTH }, {\n  findIndex: function findIndex(callbackfn /* , that = undefined */) {\n    return $findIndex(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND_INDEX);\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"product\"},[_c('ul',{staticClass:\"product-fullpage-indicator\"},_vm._l((_vm.products),function(item,index){return _c('li',{key:item.id,staticClass:\"product-fullpage-indicator-item\",class:{active:_vm.activeIndex===index},on:{\"click\":function($event){_vm.activeIndex = index}}},[_c('img',{attrs:{\"src\":item.logo,\"alt\":\"\"}})])}),0),_c('transition',{attrs:{\"duration\":_vm.duration,\"name\":_vm.transitionName}},[(!_vm.loading)?_c('div',{key:_vm.activeIndex,staticClass:\"view-wrapper\",style:((\"backgroundImage:url(\" + (_vm.item.cover) + \")\"))},[_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"logo\"},[_c('img',{attrs:{\"src\":_vm.item.logo,\"width\":\"100%\",\"height\":\"100%\",\"alt\":\"\"}})]),_c('h2',[_vm._v(_vm._s(_vm.item.title))]),_c('div',{staticClass:\"description\"},[_vm._v(_vm._s(_vm.item.description))]),_c('div',{staticClass:\"subDescription\"},[_vm._v(_vm._s(_vm.item.subDescription))]),_c('div',{staticClass:\"link\"},[_vm._v(\" 更多信息，请访问： \"),_c('br'),_c('span',[_vm._v(_vm._s(_vm.item.link))])])])]):_vm._e()])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"product\">\n    <ul class=\"product-fullpage-indicator\">\n      <li\n        v-for=\"(item, index) in products\"\n        :key=\"item.id\"\n        class=\"product-fullpage-indicator-item\"\n        :class=\"{active:activeIndex===index}\"\n        @click=\"activeIndex = index\"\n      >\n        <img :src=\"item.logo\" alt />\n      </li>\n    </ul>\n    <transition :duration=\"duration\" :name=\"transitionName\">\n      <!-- ... the buttons ... -->\n      <div\n        :key=\"activeIndex\"\n        class=\"view-wrapper\"\n        v-if=\"!loading\"\n        :style=\"`backgroundImage:url(${item.cover})`\"\n      >\n        <div class=\"content\">\n          <div class=\"logo\">\n            <img :src=\"item.logo\" width=\"100%\" height=\"100%\" alt />\n          </div>\n          <h2>{{ item.title }}</h2>\n          <div class=\"description\">{{ item.description }}</div>\n          <div class=\"subDescription\">{{ item.subDescription }}</div>\n          <div class=\"link\">\n            更多信息，请访问：\n            <br />\n            <span>{{ item.link }}</span>\n          </div>\n        </div>\n      </div>\n    </transition>\n  </div>\n</template>\n<script>\nexport default {\n  name: \"Product\",\n  data() {\n    return {\n      products: [],\n      activeIndex: 0,\n      transitionName: \"\",\n      scrolling: false,\n      duration: 1000,\n      loading: false\n    };\n  },\n  watch: {\n    activeIndex(newIndex, oldIndex) {\n      if (this.scrolling) {\n        return;\n      }\n      if (this.$route.params.id) {\n        delete this.$route.params.id;\n        return;\n      }\n\n      this.transitionName = newIndex < oldIndex ? \"move-down\" : \"move-up\";\n    }\n  },\n  created() {\n    this.loading = true;\n    this.request\n      .get(\"/products\")\n      .then(response => {\n        this.products = response;\n        this.loading = false;\n\n        if (this.$route.params.id) {\n          this.activeIndex = this.products.findIndex(\n            item => item.id === this.$route.params.id\n          );\n        }\n      })\n      .catch();\n  },\n  mounted() {\n    window.addEventListener(\"mousewheel\", this.mousewheelHandler);\n  },\n  destroyed() {\n    window.removeEventListener(\"mousewheel\", this.mousewheelHandler);\n  },\n  computed: {\n    item() {\n      return this.products[this.activeIndex] || {};\n    }\n  },\n  methods: {\n    mousewheelHandler(e) {\n      if (this.scrolling) {\n        return;\n      }\n      this.scrolling = true;\n      if (e.wheelDelta > 0) {\n        this.transitionName = \"move-down\";\n        if (this.activeIndex === 0) {\n          this.activeIndex = this.products.length - 1;\n        } else {\n          this.activeIndex--;\n        }\n      } else {\n        this.transitionName = \"move-up\";\n        if (this.activeIndex === this.products.length - 1) {\n          this.activeIndex = 0;\n          setTimeout(() => {});\n        } else {\n          this.activeIndex++;\n        }\n      }\n      setTimeout(() => {\n        this.scrolling = false;\n      }, this.duration);\n    }\n  }\n};\n</script>\n<style lang=\"less\" scoped>\n.move-up-leave-active,\n.move-up-enter-active,\n.move-down-leave-active,\n.move-down-enter-active {\n  transition: all 0.7s;\n  transition-timing-function: cubic-bezier(0.66, 0, 0.34, 1);\n}\n.move-up-leave-to,\n.move-up-enter,\n.move-down-leave-to,\n.move-down-enter {\n  opacity: 0;\n}\n\n.move-up-leave-to,\n.move-down-enter {\n  transform: translateY(-100%);\n}\n.move-down-leave-to,\n.move-up-enter {\n  transform: translateY(100%);\n}\n\n.product {\n  position: fixed;\n  z-index: -1;\n  top: 60px;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  &-fullpage-indicator {\n    position: absolute;\n    z-index: 333;\n    right: 50px;\n    top: 50%;\n    transform: translateY(-50%);\n    width: 100px;\n    &-item {\n      margin: 22px 0;\n      width: 40px;\n      height: 40px;\n      cursor: pointer;\n      transition: all 0.3s;\n      border-radius: 50%;\n      overflow: hidden;\n\n      &:hover,\n      &.active {\n        transform: scale(1.3);\n\n        box-shadow: 0 0 14px 0 @box-shadow-dark-color;\n      }\n      img {\n        width: 100%;\n        height: 100%;\n      }\n    }\n  }\n\n  .view-wrapper {\n    background-repeat: no-repeat;\n    background-size: 100%;\n    position: absolute;\n    height: 100vh;\n    width: 100%;\n    padding-top: 100px;\n    padding-left: 100px;\n\n    .content {\n      width: 300px;\n      // text-align: center;\n      .logo {\n        width: 40px;\n        height: 40px;\n      }\n      h2 {\n        margin: 30px 0;\n      }\n      .description,\n      .subDescription {\n        color: #aaa;\n        line-height: 1.4;\n      }\n      .link {\n        margin-top: 40px;\n        span {\n          color: @main-color;\n        }\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Products.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Products.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Products.vue?vue&type=template&id=22c29402&scoped=true&\"\nimport script from \"./Products.vue?vue&type=script&lang=js&\"\nexport * from \"./Products.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Products.vue?vue&type=style&index=0&id=22c29402&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"22c29402\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}